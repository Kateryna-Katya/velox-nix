{"version":3,"file":"main-CFfUwT6b.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. LENIS SMOOTH SCROLL ---\n  // Плавный скролл для всей страницы\n  const lenis = new Lenis();\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n\n  // --- 2. LUCIDE ICONS ---\n  // Инициализация иконок, если библиотека подключена\n  if (window.lucide) {\n      window.lucide.createIcons();\n  }\n\n\n  // --- 3. АНИМАЦИЯ ЗАГОЛОВКОВ (SplitType + GSAP) ---\n  const splitTitles = document.querySelectorAll('.split-text');\n  splitTitles.forEach(el => {\n      // Разбиваем текст на слова и символы\n      const text = new SplitType(el, { types: 'words,chars' });\n\n      gsap.from(text.chars, {\n          scrollTrigger: {\n              trigger: el,\n              start: \"top 90%\",\n              toggleActions: \"play none none none\"\n          },\n          opacity: 0,\n          y: 30,\n          stagger: 0.02,\n          duration: 1,\n          ease: \"power4.out\"\n      });\n  });\n\n\n  // --- 4. МОБИЛЬНОЕ МЕНЮ ---\n  const burgers = document.querySelectorAll('#burger-menu');\n  const mobileMenu = document.querySelector('#mobile-menu');\n  const mobileLinks = document.querySelectorAll('.mobile-link');\n\n  const toggleMenu = (state) => {\n      const isOpen = state !== undefined ? state : !mobileMenu.classList.contains('active');\n\n      burgers.forEach(b => b.classList.toggle('open', isOpen));\n      if (mobileMenu) {\n          mobileMenu.classList.toggle('active', isOpen);\n          document.body.style.overflow = isOpen ? 'hidden' : '';\n      }\n  };\n\n  burgers.forEach(burger => {\n      burger.addEventListener('click', () => toggleMenu());\n  });\n\n  mobileLinks.forEach(link => {\n      link.addEventListener('click', () => toggleMenu(false));\n  });\n\n\n  // --- 5. ЛОГИКА ФОРМ И УСПЕШНАЯ ОТПРАВКА ---\n  const forms = document.querySelectorAll('.contact-form');\n\n  forms.forEach(form => {\n      const captchaLabel = form.querySelector('.captcha-label');\n      const captchaInput = form.querySelector('.captcha-input');\n      const submitBtn = form.querySelector('button[type=\"submit\"]');\n      const successMessage = document.getElementById('form-success');\n\n      // Генерация простой капчи\n      const num1 = Math.floor(Math.random() * 10);\n      const num2 = Math.floor(Math.random() * 10);\n      const answer = num1 + num2;\n\n      if (captchaLabel) captchaLabel.innerText = `${num1} + ${num2} = ?`;\n\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Проверка капчи\n          if (captchaInput && parseInt(captchaInput.value) !== answer) {\n              // Анимация тряски при ошибке\n              gsap.to(captchaInput, { x: 10, repeat: 3, yoyo: true, duration: 0.05, clearProps: \"x\" });\n              alert(\"Ошибка в расчетах! Попробуйте еще раз.\");\n              return;\n          }\n\n          // Блокировка кнопки\n          if (submitBtn) {\n              submitBtn.disabled = true;\n              submitBtn.innerText = \"Отправка...\";\n          }\n\n          // Имитация запроса на сервер (1.5 сек)\n          setTimeout(() => {\n              // Анимация исчезновения формы\n              gsap.to(form, {\n                  opacity: 0,\n                  y: -20,\n                  duration: 0.5,\n                  onComplete: () => {\n                      form.style.display = 'none';\n\n                      if (successMessage) {\n                          successMessage.style.display = 'block';\n                          // Плавное появление сообщения об успехе\n                          gsap.fromTo(successMessage,\n                              { opacity: 0, scale: 0.9, y: 20 },\n                              { opacity: 1, scale: 1, y: 0, duration: 0.7, ease: \"back.out(1.7)\" }\n                          );\n                      }\n                  }\n              });\n\n              form.reset();\n          }, 1500);\n      });\n  });\n\n\n  // --- 6. ХЕДЕР ПРИ СКРОЛЛЕ ---\n  const header = document.querySelector('.header');\n  const updateHeader = () => {\n      if (header) {\n          header.classList.toggle('header--scrolled', window.scrollY > 50);\n      }\n  };\n\n  window.addEventListener('scroll', updateHeader);\n  updateHeader(); // Проверка при загрузке\n\n\n  // --- 7. ДОПОЛНИТЕЛЬНО: АНИМАЦИЯ ПОЯВЛЕНИЯ БЛОКОВ (REVEAL) ---\n  const revealElements = document.querySelectorAll('.reveal');\n  revealElements.forEach(el => {\n      gsap.from(el, {\n          scrollTrigger: {\n              trigger: el,\n              start: \"top 85%\",\n          },\n          opacity: 0,\n          y: 40,\n          duration: 1,\n          ease: \"power2.out\"\n      });\n  });\n\n});"],"names":["lenis","raf","time","el","text","burgers","mobileMenu","mobileLinks","toggleMenu","state","isOpen","b","burger","link","form","captchaLabel","captchaInput","submitBtn","successMessage","num1","num2","answer","e","header","updateHeader"],"mappings":"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"}